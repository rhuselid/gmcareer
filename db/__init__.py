"""
Database layer for GM Career Mode.
Single save slot: one SQLite DB (data/game.db). New manager overrides prior DB.
"""
from .schema import get_db_path, get_connection, init_db, reset_for_new_manager
from .operations import (
    get_all_divisions_with_teams_and_players,
    get_high_school_divisions_with_teams_and_players,
    get_manager_current_team_id,
    set_manager_team,
    get_team_by_id,
    get_team_roster_with_depth,
    get_team_roster_full,
    get_depth_order,
    set_depth_order,
    update_player_position,
    update_player_overall,
    recompute_player_ratings,
    sync_depth_chart_for_position_change,
    depth_chart_is_valid,
    generate_depth_chart_best_by_position,
    insert_manager,
    get_current_manager,
    get_manager_season_history,
    insert_division,
    insert_team,
    insert_player,
    get_divisions_by_level,
    set_setup_progress,
    get_setup_progress,
    # Game results
    insert_game,
    get_game_by_id,
    get_games_for_team,
    get_player_stats_for_game,
    get_team_record,
    # Season & schedule
    init_season_state,
    get_season_state,
    advance_week,
    enter_offseason,
    set_offseason_step,
    advance_offseason_step,
    advance_to_new_season,
    OFFSEASON_STEPS,
    get_teams_in_division_order,
    get_team_record_for_season,
    get_players_at_level_with_class,
    delete_player,
    transfer_player_to_team,
    insert_schedule_entry,
    bulk_insert_schedule,
    get_week_schedule,
    set_schedule_game_id,
    get_division_standings,
    get_division_team_stat_leaders,
    get_team_schedule_display,
    get_division_for_team,
    get_season_summary,
    get_completed_season_team_id,
    run_season_rewards,
    spend_skill_points,
    # Player / team profiles & stat leaders
    get_player_by_id,
    get_player_season_stats,
    get_player_prior_season_stats,
    get_division_stat_leaders,
    get_team_profile,
    # Practice and development
    get_practice_plan,
    set_practice_plan,
    copy_practice_plans_to_next_week,
    get_player_development_recent,
    get_team_player_development_totals,
    get_team_player_development_for_week,
    get_team_player_development_by_attribute_for_week,
    get_team_player_development_by_attribute_for_season,
    get_team_development_summary,
    search_players_database,
)

__all__ = [
    "get_db_path",
    "get_connection",
    "init_db",
    "reset_for_new_manager",
    "get_all_divisions_with_teams_and_players",
    "get_high_school_divisions_with_teams_and_players",
    "get_manager_current_team_id",
    "set_manager_team",
    "get_team_by_id",
    "get_team_roster_with_depth",
    "get_team_roster_full",
    "get_depth_order",
    "set_depth_order",
    "update_player_position",
    "update_player_overall",
    "recompute_player_ratings",
    "sync_depth_chart_for_position_change",
    "depth_chart_is_valid",
    "generate_depth_chart_best_by_position",
    "insert_manager",
    "get_current_manager",
    "get_manager_season_history",
    "insert_division",
    "insert_team",
    "insert_player",
    "get_divisions_by_level",
    "set_setup_progress",
    "get_setup_progress",
    # Game results
    "insert_game",
    "get_game_by_id",
    "get_games_for_team",
    "get_player_stats_for_game",
    "get_team_record",
    # Season & schedule
    "init_season_state",
    "get_season_state",
    "advance_week",
    "enter_offseason",
    "set_offseason_step",
    "advance_offseason_step",
    "advance_to_new_season",
    "OFFSEASON_STEPS",
    "get_teams_in_division_order",
    "get_team_record_for_season",
    "get_players_at_level_with_class",
    "delete_player",
    "transfer_player_to_team",
    "insert_schedule_entry",
    "bulk_insert_schedule",
    "get_week_schedule",
    "set_schedule_game_id",
    "get_division_standings",
    "get_division_team_stat_leaders",
    "get_team_schedule_display",
    "get_division_for_team",
    "get_season_summary",
    "get_completed_season_team_id",
    "run_season_rewards",
    "spend_skill_points",
    # Player / team profiles & stat leaders
    "get_player_by_id",
    "get_player_season_stats",
    "get_player_prior_season_stats",
    "get_division_stat_leaders",
    "get_team_profile",
    # Practice and development
    "get_practice_plan",
    "set_practice_plan",
    "copy_practice_plans_to_next_week",
    "get_player_development_recent",
    "get_team_player_development_totals",
    "get_team_player_development_for_week",
    "get_team_player_development_by_attribute_for_week",
    "get_team_player_development_by_attribute_for_season",
    "get_team_development_summary",
    "search_players_database",
]
